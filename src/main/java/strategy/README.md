# Strategy Pattern（策略模式）
## 简单定义
在策略模式（Strategy Pattern）中，一个类的行为或其算法可以在运行时更改。这种类型的设计模式属于行为型模式。
## 个人理解
当有一组大体功能相似，但是个别功能不一样对象时，可以使用策略模式。
通过把差异的内容实现同一个接口，但是使用不同的实现方式，让不一样的功能变的更加灵活配置。

例如，汽车（被继承的类）大体功能都类似，但是在供能的燃料上略有不同，有的使用汽油，有的使用柴油，有的使用电池等等，但是不同的汽车具有的共性要大于差异性。
那供能的燃料变可以作为一个接口，使用不同的类（汽油，柴油，电池）来实现同一个接口。
不同的车则持有不同的燃料对象，新能源车（继承汽车对象）在燃料上便可以使用电池（实现类）作为燃料，而不会影响前进（前进需要燃料提供动力，但是无论汽油还是电池，都有同样的前进功能）等使用燃料的通用功能。

## 介绍
**意图：** 定义一系列的算法,把它们一个个封装起来, 并且使它们可相互替换。

**主要解决：** 在有多种算法相似的情况下，使用 if...else 所带来的复杂和难以维护。

**何时使用：** 一个系统有许多许多类，而区分它们的只是他们直接的行为。

**如何解决：** 将这些算法封装成一个一个的类，任意地替换。

**关键代码：** 实现同一个接口。

**应用实例：** 

1.旅行的出游方式，选择骑自行车、坐汽车，每一种旅行方式都是一个策略。 

2.JAVA AWT 中的 LayoutManager。

**优点：** 

1、算法可以自由切换。 2、避免使用多重条件判断。 3、扩展性良好。

**缺点：** 

1、策略类会增多。 2、所有策略类都需要对外暴露。

**使用场景：** 

>1.如果在一个系统里面有许多类，它们之间的区别仅在于它们的行为，那么使用策略模式可以动态地让一个对象在许多行为中选择一种行为。   
>2.一个系统需要动态地在几种算法中选择一种。  
>3.如果一个对象有很多的行为，如果不用恰当的模式，这些行为就只好使用多重的条件选择语句来实现。

**注意事项：** 如果一个系统的策略多于四个，就需要考虑使用混合模式，解决策略类膨胀的问题。

## 场景模拟

### section 1 新帮成立
>今天是丐帮成立的日子，作为丐帮弟子，口袋（GaiBangMember）就是我们的标志。
但是只有帮主（Leader）和副帮主（DeputyLeader）两个人，为了生计，帮主规定每个人都要有两项必须要做的任务：
一是帮中每个人都要乞讨来保证基本生计，二是要有发展新成员的任务。
每天丐帮成员都需要把自己的所有事情都做一遍（DailyWork.doDailyWork）来保证帮派可以长久发展。

>设计一个公共类，添加乞讨和发展新成员的方法，让帮派所有人继承这个公共类，那么大家就都有这两个技能了

><font color=red>项目刚起步阶段需求简单明确，用面向对象基本特性即可完成，设置基类，其他实现类继承即可</font>

### section 2 初步发展
>经过一年的努力，丐帮有了不错的发展。弟子众多，需要管理，但帮主需要潜心修炼武功，来提升丐帮在江湖的地位。
>
>所以工作就有了一定的变化，帮主：大家还要保持之前的工作，并且除我之外每个弟子都要上缴百分之十的收入作为帮费用于帮派建设。
同时，我要去修炼打狗棒法来参加下一届的武林大会，要让丐帮为名扬天下，所以不能再跟大家一起来乞讨了。
帮里主要事务交由副帮主打理。弟子们都觉得帮主说的有道理，为了丐帮美好的明天而奋斗。

>这里帮中事务出现了一些小的变化，帮主不再参与乞讨，但增加了修炼武功的任务，其他弟子则增加了上缴帮费的任务。

><font color=red>项目需求变更，增加了更多的方法，且增加了特例，我们的设计勉强还可以应付当前的变化。</font>

### section 3 逐步壮大（策略模式优点）
>经过帮派人员的不屑努力，丐帮迅速发展壮大，同时也有更多的事务需要管理。
>大家讨论的最多的主要就是两个方面，一个是修炼武功的问题，一个是乞讨的区域问题。
>
>帮派中一些人想修炼武功，但是由于资质不同，可以修炼的武功种类也不同，有人可以炼打狗棒法，有人可以炼降龙十八掌，有人可以练逍遥游，但是有的人却不想练武。
>
>第二由于帮中人员多了，经常会出现其他的时候大家在一个区域内进行乞讨，这样区域有了交集，不利于整体的乞讨收益。
>
>所以帮主规定，九袋长老可以练打狗棒法，九袋以下只能练逍遥游，不喜欢练武的可以不练。
>
>区域也进行了划分，分了四个小组，分别带领自己手下的人去东南西北四个方向乞讨。
>
>其他规定照旧。大家纷纷夸赞帮主英明。

>此时帮派中又有了大变化，修炼武功不再是帮主独享的能力，而且增加了修炼的种类，乞讨也增加了方向，同时帮主也不需要乞讨，若还沿用之前的设计，复用性会变差，所以我们使用策略模式来重构之前的逻辑。

><font color=red>此时需求逐渐增多，如果在原有基础上修改会出现太多的if else判断来满足特定需求，故使用策略模式进行重构，此时体现了策略模式的优点</font>
### section 4 第一大帮（策略模式缺点）
>武林大会上，帮主大显身手，在武功方面奠定了丐帮的基础，同时帮派成员的数量已经远超其他小帮派成为了武林中第一大帮。
>
>相应的帮中人员也变得更加复杂，不少新人只是为了加入丐帮而选择丐帮，但是他们并不穷，所以也不需要乞讨，甚至还可以提供更多的帮费。
>
>还有些人只是为了学习更多的武功，想有一天也可以在武林中成名，大家也有了更多武功交流的机会，可以学习的武功也越来越多。
>
>招收人员也变得更加严格，品行不正的不招，从而使丐帮得以更好的发展。

>丐帮中增加了更多有特点的角色，同时也增加了更多的武功，招人也改变了策略，为了适应这个变化，因为之前的设计更方便扩展，所以问题并不大。

><font color=red>但是我们也发现了新的问题，需要维护的策略过多，比如武功需要维护更多种类，这在管理上也需要更大的投入，也相应的出现了策略模式的弊端，所以需要与其他设计模式相配合才能起到更好的作用</font>

### *策略模式完...*
